<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
</head>
 
<body>
</body>
<script>
    var ws = new WebSocket("ws://192.169.1.3:8765");
    ws.onopen = function() {
        // Web Socket is connected, send data using send()
        uuid = crypto.randomUUID()
        ws.send(JSON.stringify({eventType : 'READY', peerId : uuid , peerType : 'WebBrowser'}));
        console.log("Message is sent...");
        // ERROR
        // ws.send(JSON.stringify({eventType : 'READY', peerId : uuid , peerType : 'WebBrowser'}));
        // console.log("Message is sent... again");
        // ws.send(JSON.stringify({eventType : 'READY', peerId : crypto.randomUUID() , peerType : 'WebBrowser'}));
    };
				
    ws.onmessage = function (evt) { 
        var received_msg = evt.data;
        console.log("Message is received... : "+received_msg);
    };
    
    ws.onclose = function() { 
        // websocket is closed.
        console.log("Connection is closed..."); 
    };
</script>
</html>